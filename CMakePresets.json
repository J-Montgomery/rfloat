{
    "version": 6,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 20,
        "patch": 0
    },
    "configurePresets": [
    {
        "name": "unix",
        "displayName": "Non-MSVC config for Clang and GCC",
        "description": "Enables unsafe optimizations for reproducibility testing on unixes",
        "cacheVariables": {
            "COMPILE_OPTIONS": "-O3;-pedantic;-funsafe-math-optimizations;-ffast-math;-march=native"
        },
        "environment": {
            "CTEST_OUTPUT_ON_FAILURE": "1"
        }
    },
    {
        "name": "windows",
        "displayName": "MSVC config",
        "description": "Enables unsafe optimizations for reproducibility testing on Windows",
        "condition": {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Windows"
        },
        "cacheVariables": {
            "CMAKE_BUILD_TYPE": "Release",
            "COMPILE_OPTIONS": "/O2;/arch:AVX2;/MT"
        },
        "environment": {
            "CTEST_OUTPUT_ON_FAILURE": "1"
        }
      }
  ]
}
